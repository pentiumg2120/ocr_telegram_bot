# Image to text

Сейчас бот доступен по [ссылке](https://t.me/aertver_ocr_bot)

---

## Описание проекта

Этот бот автоматически распознаёт текст на изображениях, используя технологию OCR (Optical Character Recognition), и отправляет его обратно в чат.
### Проблема и целевая аудитория

* **Проблема:** В 10/11 классах я часто терял информацию на фотографиях из-за отсутствия удобного поиска по ним.
* **Целевая аудитория:** Ученики старших классов школы / Студенты

### Идея и сценарии использования

* **Идея:** Создать удобного Telegram-бота, который поможет быстро найти информацию с заранее сделанных фотографий или скриншотов.
* **Сценарии работы:**

    * **Сценарий 1 (Сохранение информации с изображения):** Пользователь отправляет боту картинку, он возвращает ему текст.
    * **Сценарий 2 (Поиск информации):** Пользователь пишет ключевое слово, которое могло содержаться на фотографии, в стандартный поиск по чату с ботом в Telegram.

---


## Технологии и инструменты

Бот написан на python3 c библиотеками aiogram и google.genai

Для работы бот использует модель 'gemini-2.5-flash'

При разработке использовался GigaCode в inline режиме и Gemini для составления текстов и промта

---

## Архитектура и структура проекта

    * bot.py Содержит логику бота.
    * cloud.py Содержит код, отвечающий за работу с Google Gemini.
    * config.py Содержит api ключи для доступа к Telegram и Gemini.
    * text.py Содержит весь текст, отправляемый пользователю.
    * promt.py Содержит промт, используемый при обращении к Gemini.

---

## Установка и запуск

### Требования

* Python 3.10+
* pip
* git

### Установка

Важно, при использовании Windows следует вводить команды в Git Bash (запущенный от имени администратора), при использовании Linux в терминал

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/pentiumg2120/ocr_telegram_bot.git
    cd ocr_telegram_bot
    ```

2.  **Создайте и активируйте виртуальное окружение:**

    Linux:
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```
    
    Windows:
    ```bash
    python -m venv venv
    source venv\Scripts\activate
    ```

4.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

5.  **Настройте api ключи:**
    Заполните файл `config.py` в созданной директории на основе примера.
    BOT_TOKEN можно получить у @BotFather в telegram,
    gemini_api_key можно получить по [ссылке](https://aistudio.google.com/apikey)

### Запуск

Запустите бота следующей командой:

```bash
python bot.py
```

### Решение проблем

Если при работе бота возникает ошибка 'User location is not supported for the API use.' [используйте custom dns](https://www.comss.ru/page.php?id=13030&ysclid=mdcv1sc5uk413977045).

### Пример использования бота

Видео с примером работы бота доступно на [Яндекс диске](https://disk.yandex.ru/i/1R6UOc-okJIWKA) и [Google drive](https://drive.google.com/file/d/1Hw8MCJiGZbw7fQrQOZoJfu1cnAfxRiBN/view?usp=sharing)
